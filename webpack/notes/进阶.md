## Webpack进阶

### 1. POST-CSS

> [介绍](https://www.ibm.com/developerworks/cn/web/1604-postcss-css/index.html)
>
> post-css 提供了用js来处理css的方法
>
> 它会将css代码解析成AST，其余功能交由插件完成
>
> POST-CSS 相对于 sass、less等css预处理器，主要是针对css操作，所以称为css的后处理器

插件可以完成多种功能也很多样（200+）

- auto-prefixer 添加前缀 
- 支持变量和mixin
- 转化css规范
- cssnext，css-next 负责把这些新特性转译成当前浏览器中可以使用的语法，cssnext已经包含auto-prefixer，因此使用css-next就不需要使用auto-prefixer了
- px2rem + lib-flexible

开发post-css插件

```js
var postcss = require('postcss');
 
module.exports = postcss.plugin('postcss-checkcolor', function(options) {
 return function(css, result) {
   css.walkDecls('color', function(decl) {
     if (decl.value == 'black') {
       result.warn('No black color.', {decl: decl});
     }
   });
 };
})

```



### 2. 静态资源内联

> 如果有css或者js需要内联到 script、style标签，需要使用静态资源内联插件

- css代码 
  - style-loader options: {singleton: true, insertAt: 'top'}
  - `recommended` html-inline-css-webpack-plugin，可以将打包好的css文件直接内联到html里
- js、html代码 （raw-loader!babel-loader）
  - raw-loader 原理
    1. 读取文件内容
    2. 插入标签
- 图片 （ url-loader ）













