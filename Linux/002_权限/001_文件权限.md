```shell
# 文件详细信息
ls -l
```

| -rw-r--r-- | 1      | root   | root   | 1090  | Sep 18 12:00 | /etc/passwd |
| ---------- | ------ | ------ | ------ | ----- | ------------ | ----------- |
| 权限       | 链接数 | 所有者 | 所属组 | 大小B | 修改日期     | 文件名      |

 权限分为四块  r w x 读 写 执行|进入 421

- 文件类型 ` - d l c b`
- 文件所有者权限
- 文件所属组权限
- 其他人的权限

### 修改文件权限

```shell
# 改变所有者
chown -R [文件] [拥有者]
# 改变所属组
chgrp -R [文件] [拥有者]
# 改变所有者和所属组的文件权限
chmod
加减法: u/g/o	+/-/=	r/w/x
eg: 
chmod g+w [文件名]

数字法: r=4, w=2, x=1
chmod 777 [文件名]

# 文件的拥有者即使没有w权限，也可以强制写入 wq!
```

### 创建组

```shell
# 查看所属组
groups

# 组默认信息 /etc/login/defs
groupadd
-g 指定gid
groupdel
groupmod

gpasswd
-a [用户] [组] 为组添加用户 
-d 为组删除用户
```

### 文件的默认权限

```shell
umask 000 保留所有权限
-S 		  人性化显示
# 临时修改，永久修改 /etc/profile
# 0022	表示拿走的权限
# 第一个数字代表特殊的权限
# 022=rwxr-xr-x, 2代表w权限
```

### 特殊权限 SUID=4 SGID=2 SBIT=1

> 特殊权限 chmod 7777 第一位
>
> SUID：临时获取文件拥有者的权限--只能针对文件
>
> SGID：获取所属组的权限，即可以作用于文件，也可以作用于目录，目录会继承
>
> SBIT：只有文件的拥有者，才能删除，修改该目录下的文件--只能针对目录
>
> 当s出现在拥有者x权限位置的时候，表示拥有者有SUID权限
>
> 当s出现在所属组x权限位置的时候，表示所属组有SGID权限
>
> 当t出现在其他人x权限位置的时候，表示所属组有SBIT权限
>
> ST大小写：大写有x权限，小写没有x

### root对用户文件权限设置

```shell
acl 			# 针对单一使用者修改文件权限
setfacl			# 设置acl权限
-m 				# 配置参数
	u:[username]:rwx m:rwx g:rwx
-b 				# 删除acl配置
-R				# 递归配置
-x 				# 删除单个文件的acl
mask			# 设置权限上限
getfacl			# 查询acl权限
```

